<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Login</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template-->
  <link href="css/boostrap.min.css" rel="stylesheet">

  <style>
    body {
      background: url('img/pic-login.jpg') no-repeat center center fixed;
      background-size: cover;
    }

    .card {
      margin-top: 100%;
      background: rgba(0, 0, 0, 0.7); /* Transparansi warna hitam */
      color: white; /* Teks warna putih */
    }

    .form-control {
      background: rgba(255, 255, 255, 0.1); /* Transparansi putih */
      color: white;
      border: none;
    }

    .form-control::placeholder {
      color: #ccc; /* Warna placeholder */
    }

    .form-control:focus {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      outline: none;
      box-shadow: none;
    }

    .btn-danger {
      background: #e3342f;
      border: none;
    }

    .btn-danger:hover {
      background: #c82333;
    }
  </style>

</head>

<body>

  <div class="container">

    <!-- Outer Row -->
    <div class="row justify-content-center mt-5">

      <div class="col-xl-5 col-lg-6 col-md-4">

        <div class="card o-hidden border-0 shadow-lg my-5">
          <!-- Nested Row within Card Body -->
          <div class="p-5">
            <div class="text-center">
              <h1 class="h4 mb-1"><b>Welcome!</b></h1>
              <h1 class="h4 mb-5"><b>Booking App</b></h1>
            </div>
            <form class="user" id="loginForm">
  <div class="form-group">
    <input type="text" name="username" class="form-control form-control-user" id="username" placeholder="Username...">
  </div>
  <div class="form-group">
    <input type="password" name="pass" class="form-control form-control-user" id="password" placeholder="Password...">
  </div>
  <button type="submit" class="btn btn-danger btn-user btn-block">Login</button>
</form>
<div id="message" class="text-center mt-3"></div>

          </div>
        </div>

      </div>

    </div>

  </div>

  <script>
  $(document).ready(function () {
    $('#loginForm').on('submit', function (e) {
      e.preventDefault(); // Mencegah pengiriman form secara default

      const username = $('#username').val();
      const password = $('#password').val();

      // Validasi input
      if (username === '' || password === '') {
        $('#message').html('<div class="alert alert-danger">Please enter your username and password.</div>');
        return;
      }

      // Kirim data menggunakan AJAX
      $.ajax({
        url: 'api/login-api.php', // Ubah ke endpoint API login Anda
        type: 'POST',
        data: JSON.stringify({ username: username, password: password }),
        contentType: 'application/json',
        success: function (response) {
          if (response.status === 'success') {
            $('#message').html('<div class="alert alert-success">' + response.message + '</div>');
            // Simpan data user jika diperlukan
            localStorage.setItem('user', JSON.stringify(response.data));
            // Redirect ke halaman lain
            setTimeout(() => {
              window.location.href = 'dashboard.html';
            }, 2000);
          } else {
            $('#message').html('<div class="alert alert-danger">' + response.message + '</div>');
          }
        },
        error: function () {
          $('#message').html('<div class="alert alert-danger">An error occurred on the server.</div>');
        }
      });
    });
  });
</script>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>

</body>

</html>
